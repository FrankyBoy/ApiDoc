@using ApiDoc.Models
@model Branch

<h2>@Model.Name</h2>

<section id="description">
    <h3>Description</h3>
    @Html.Raw(Model.Description)
</section>


<section id="children">
    <h3>Children</h3>
    <ul class="children">
        @foreach (var item in Model.Children)
        {
            var path = "/" + ViewBag.Structure.Path+ item.GetWikiUrlString();
            <li class="child @if (item.Deleted) { Write(" deleted"); }">
                <a href="@path"><h4>@item.Name</h4>@Html.Raw(item.Description)</a>
            </li>
        }
    </ul>
</section>
@Html.ActionLink("Create", "Create", "Wiki")

@if (ViewBag.ShowDeleted) {
    @Html.ActionLink("Hide deleted", "Display", "Wiki")
} else {
    @Html.ActionLink("Show All", "Display", "Wiki", new {showDeleted = true}, null)
}
