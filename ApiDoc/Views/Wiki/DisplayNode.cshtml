@using ApiDoc.Models
@using ApiDoc.Utility
@model Node

@{
    ViewBag.Title = "title";
}

<h2>@Model.Name</h2>
<ul>
    @foreach (Node item in Model.Children)
    {
        var reference = new {apiId = item.Id};
        <li class="apiDescription @if (item.Deleted) { Write(" deleted"); }">
            <a href="@Request.Url.AbsoluteUri@item.Name.ToWikiUrlString()"><h4>@item.Name</h4>@item.Description</a>
            
            @Html.ActionLink("Revisions", "History", reference, new {@class = "historyButton"})
            @Html.ActionLink("Edit", "Edit", reference, new {@class = "editButton"})
            @Html.ActionLink("Delete", "Delete", reference, new {@class = "deleteButton"})
        </li>
    }
</ul>
@Html.ActionLink("Create", "Create")

@if (ViewBag.ShowDeleted) {
    @Html.ActionLink("Hide deleted", "Display");
} else {
    @Html.ActionLink("Show All", "Display", new {showDeleted = true});
}
